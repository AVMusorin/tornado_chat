--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: chat; Type: TABLE; Schema: public; Owner: kamrus; Tablespace: 
--

CREATE TABLE chat (
    id integer NOT NULL,
    token character varying(300) NOT NULL,
    ready boolean DEFAULT true NOT NULL,
    last_message character varying(1000),
    customer_asked boolean DEFAULT false,
    remote_ip character varying(100),
    user_id integer
);


ALTER TABLE public.chat OWNER TO kamrus;

--
-- Name: chat_id_seq; Type: SEQUENCE; Schema: public; Owner: kamrus
--

CREATE SEQUENCE chat_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.chat_id_seq OWNER TO kamrus;

--
-- Name: chat_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: kamrus
--

ALTER SEQUENCE chat_id_seq OWNED BY chat.id;


--
-- Name: messages; Type: TABLE; Schema: public; Owner: kamrus; Tablespace: 
--

CREATE TABLE messages (
    id integer NOT NULL,
    message text NOT NULL,
    user_id integer,
    manager boolean,
    create_date timestamp without time zone
);


ALTER TABLE public.messages OWNER TO kamrus;

--
-- Name: messages_id_seq; Type: SEQUENCE; Schema: public; Owner: kamrus
--

CREATE SEQUENCE messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.messages_id_seq OWNER TO kamrus;

--
-- Name: messages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: kamrus
--

ALTER SEQUENCE messages_id_seq OWNED BY messages.id;


--
-- Name: users; Type: TABLE; Schema: public; Owner: kamrus; Tablespace: 
--

CREATE TABLE users (
    id integer NOT NULL,
    user_name character varying(200) NOT NULL,
    user_email character varying(500) NOT NULL
);


ALTER TABLE public.users OWNER TO kamrus;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: kamrus
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO kamrus;

--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: kamrus
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: kamrus
--

ALTER TABLE ONLY chat ALTER COLUMN id SET DEFAULT nextval('chat_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: kamrus
--

ALTER TABLE ONLY messages ALTER COLUMN id SET DEFAULT nextval('messages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: kamrus
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Data for Name: chat; Type: TABLE DATA; Schema: public; Owner: kamrus
--

COPY chat (id, token, ready, last_message, customer_asked, remote_ip, user_id) FROM stdin;
1	274783018:AAHhnTvsBxRQtYYFsb6V2ypgLhYHk4jQKLM	f	Рапсам	f	127.0.0.1	11
2	296073208:AAHLuIun06GEKSZRlswsTzbOnCyXW7Qe9Lg	t	Рпввамии	f	\N	\N
\.


--
-- Name: chat_id_seq; Type: SEQUENCE SET; Schema: public; Owner: kamrus
--

SELECT pg_catalog.setval('chat_id_seq', 2, true);


--
-- Data for Name: messages; Type: TABLE DATA; Schema: public; Owner: kamrus
--

COPY messages (id, message, user_id, manager, create_date) FROM stdin;
31	sf	11	f	2017-08-07 13:11:20.383506
32	\nsdfdsfds	11	f	2017-08-07 13:11:26.668058
33	Аппарат	11	t	2017-08-07 13:11:35.637339
34	Тлим	11	t	2017-08-07 13:11:38.61505
35	asfdaf	11	f	2017-08-07 13:52:22.493392
36	Указа	11	t	2017-08-07 13:52:29.36342
37	\nhggfh	11	f	2017-08-07 13:52:31.718566
38	Рпввамии	11	t	2017-08-07 13:52:35.285469
39	sdfds	11	f	2017-08-07 13:53:58.349657
40	Веариоропопп	11	t	2017-08-07 13:54:05.663204
41	\nsdfsffds	11	f	2017-08-07 13:54:05.927722
42	sdfsd	11	f	2017-08-07 13:55:17.605177
43	Рапсам	11	t	2017-08-07 13:55:24.496384
\.


--
-- Name: messages_id_seq; Type: SEQUENCE SET; Schema: public; Owner: kamrus
--

SELECT pg_catalog.setval('messages_id_seq', 43, true);


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: kamrus
--

COPY users (id, user_name, user_email) FROM stdin;
11	sdf	sdf@mail.ru
\.


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: kamrus
--

SELECT pg_catalog.setval('users_id_seq', 11, true);


--
-- Name: chat_pkey; Type: CONSTRAINT; Schema: public; Owner: kamrus; Tablespace: 
--

ALTER TABLE ONLY chat
    ADD CONSTRAINT chat_pkey PRIMARY KEY (id);


--
-- Name: messages_pkey; Type: CONSTRAINT; Schema: public; Owner: kamrus; Tablespace: 
--

ALTER TABLE ONLY messages
    ADD CONSTRAINT messages_pkey PRIMARY KEY (id);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: kamrus; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: chat_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: kamrus
--

ALTER TABLE ONLY chat
    ADD CONSTRAINT chat_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: messages_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: kamrus
--

ALTER TABLE ONLY messages
    ADD CONSTRAINT messages_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

